$richBlack: #464646;
$neutral: #ecedee;
$warm: #edece4;
$cool: #ebf3f7;

.igraphic-graphic.graphic {

	.analysis {

		@extend %centercolumn;

		p.description {
			@include rhythm(3, 0, 0, 0);
			@include adjust-leading-to(1);
		}

		.chart-title {

			@include rhythm(1, 0, 0, 1/2);

			span {
				font-family: $sansSerifStrong;
			}
		}

		.chart {

			img {
				vertical-align: middle;
			}

			position: relative;
			@include rhythm(0, 0, 0, 6);

			.baselayer,
			.labels,
			.inner-title {
				position: absolute;
				top: 0;
				left: 0;
			}

			.inner-title {

				@include rhythm(0, 1/4, 0, 0);
				padding-left: 0.5em;

				span {
					font-family: $sansSerifStrong;
				}
			}

			.labels {
				font-family: $sansSerif;
				width: 100%;
				height: 100%;
				z-index: 2;

				.label {
					position: absolute;
					@include adjust-leading-to(0);

					&.rank1 span {
						font-family: $sansSerif;
						@include adjust-font-size-to(11px);
						@include adjust-leading-to(1);
						display: inline-block;
						margin-top: -1em;
						text-transform: uppercase;
						letter-spacing: 2px;
						opacity: 0.4;
						color: black;
					}

					&.rank2 span {
						@include adjust-font-size-to(9px);
						@include adjust-leading-to(1);
						display: inline-block;
						margin-top: -1em;
						opacity: 0.4;
						margin-left: -50%;
					}

					&.light span {
						opacity: 0.2;
					}
				}
			}

			svg {
				vertical-align: middle;
				position: relative;
				z-index: 1;
			}

			svg text {
				font-family: $sansSerif;
			}

			rect {
				shape-rendering: crispEdges;
			}

			circle {
				stroke-width: 0.75px;
			}

			.x.axis path,
			.x.axis line {
				fill: none;
				stroke: $richBlack;
				shape-rendering: crispEdges;
			}

			.y.axis path.domain {
				display: none;
			}

			.gridlines line {
				stroke: white;
				stroke-width: 1px;
				shape-rendering: crispEdges;
			}

			path.area.fill {
				fill: $neutral;
				stroke: none;
			}

			path.area.stroke {
				fill: none;
				stroke: black;
			}

			.axis text {
				fill: $richBlack;
				font-size: 10px;
			}

			g.bar text.number {
				fill: white;
				text-shadow: 0 0 2px rgba(0,0,0,0.3), 0 0 2px rgba(0,0,0,0.3);
			}

			.annotationMarkers line {

				&.dotted {
					// stroke: $richBlack;
					// stroke: red;
					shape-rendering: crispEdges;
					// stroke-dasharray: 1,1;
					opacity: 0.5;
					stroke: black;
				}

				&.solid {
					stroke: black;
					opacity: 0.5;
				}
			}

			.annotations {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				z-index: 2;

				.annotation {
					position: absolute;
					font-family: $sansSerif;
					text-align: left;
					padding: 0 0.2em;
					margin-top: -0.5em;
					@include adjust-leading-to(2/3);
					opacity: 0.8;

					&.goLeft {
						-webkit-transform: translateX(-100%);
						transform: translateX(-100%);
						text-align: right;
					}

					span {
						display: inline-block;
						@include adjust-font-size-to($s3, 1/2);

						&.date,
						&.number {
							font-weight: bold;
						}
					}

					&.map {
						padding: 0;
						background: rgba(255, 255, 255, 0.5);
						opacity: 0.8;

						span {
							@include adjust-font-size-to($s3p5, 2/3);

							&.number {
								font-family: $sansSerifStrong;
								@include rhythm(0, 0, 1/8, 0);
							}
						}

						&.left {
							padding-left: 0.25em;
						}

						&.right {
							padding-right: 0.25em;
						}
					}

				}
			}
		}

		.small-multiples {
			width: 100%;
			overflow: hidden;

			.chart {

				@include rhythm(0, 0, 0, 1);

				@include breakpoint(420px) {
					@include rhythm(0, 0, 0, 0);
					width: 49%;
					float: left;

					&:last-child {

						float: right;
					}
				}

			}
		}

	}


	.source-and-credit {
		@include rhythm(4, 0, 0, 1);
	}
}

.meter-modal-block.bg-modal--meter {
	display: none;
}