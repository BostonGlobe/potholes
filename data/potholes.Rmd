---
title: "potholes"
author: "Gabriel Florit"
output:
  html_document:
    self_contained: false
---

```{r, echo=FALSE, results='hide', warning=FALSE, message=FALSE}
library(stringr)
library(lubridate)
library(dplyr)
library(ggplot2)
library(scales)

# Read csv.
potholes <- read.csv('../potholes.csv', strip.white=T, stringsAsFactors=F, row.names = NULL)
```

The following analysis is not meant for public consumption, at least not at the moment.

A note on the format: each question is followed by the R code that generates the answer. This is also known as **reproducible research**, a practice that's slowly being adopted by newspapers (e.g. [538](https://github.com/fivethirtyeight/data), [The Upshot](https://github.com/theupshot)). From [wikipedia](http://en.wikipedia.org/wiki/Reproducibility#Reproducible_research): "The term reproducible research refers to the idea that the ultimate product of academic research is the paper along with the full computational environment used to produce the results in the paper such as the code, data, etc. that can be used to reproduce the results and create new work based on the research."

***
#### How many potholes were closed per year?
```{r, results='asis', fig.width=12, fig.height=7, warning=FALSE, message=FALSE}

data <- potholes %>%
  transmute(date.closed = mdy_hms(str_c(Date.Closed, ' ', Time.Closed))) %>%
  group_by(year(date.closed)) %>%
  summarise(potholes = n())

knitr::kable(data)
```


***
#### How many potholes were closed per year?
```{r, results='asis', fig.width=12, fig.height=7, warning=FALSE, message=FALSE}

data <- potholes %>%
  transmute(date.closed = mdy_hms(str_c(Date.Closed, ' ', Time.Closed))) %>%
  group_by(year(date.closed)) %>%
  summarise(potholes = n())

knitr::kable(data)
```

